<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{ViewSanPham/layout/head :: head}"></head>

<body class="hold-transition skin-blue sidebar-mini">
<div class="wrapper">

    <header th:replace="~{ViewSanPham/layout/header :: header}"></header>

    <aside th:replace="~{ViewSanPham/layout/aside :: aside}"></aside>

    <div class="content-wrapper">
        <section class="content-header">
            <h1>
                Quản lý Mã Giảm Giá
                <small>Thêm mới chương trình khuyến mãi</small>
            </h1>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i> Trang chủ</a></li>
                <li><a th:href="@{/giam-gia/hien-thi}">Giảm Giá</a></li>
                <li class="active">Thêm mới</li>
            </ol>
        </section>

        <section class="content">
            <div class="col-xs-12">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Thông tin mã giảm giá</h3>
                    </div>

                    <form th:action="@{/giam-gia/add}" th:object="${giamGia}" method="post" class="form-horizontal">
                        <div class="box-body">

                            <div class="form-group" th:classappend="${#fields.hasErrors('maGiamGia')} ? 'has-error'">
                                <label for="maGiamGia" class="col-sm-2 control-label">Mã giảm giá</label>
                                <div class="col-sm-10">
                                    <input type="text" th:field="*{maGiamGia}" class="form-control" id="maGiamGia" placeholder="Nhập mã giảm giá"/>
                                    <p class="help-block" th:if="${#fields.hasErrors('maGiamGia')}" th:errors="*{maGiamGia}"></p>
                                </div>
                            </div>

                            <div class="form-group" th:classappend="${#fields.hasErrors('tenGiamGia')} ? 'has-error'">
                                <label for="tenGiamGia" class="col-sm-2 control-label">Tên giảm giá</label>
                                <div class="col-sm-10">
                                    <input type="text" th:field="*{tenGiamGia}" class="form-control" id="tenGiamGia" placeholder="Nhập tên giảm giá"/>
                                    <p class="help-block" th:if="${#fields.hasErrors('tenGiamGia')}" th:errors="*{tenGiamGia}"></p>
                                </div>
                            </div>

                            <div class="form-group" th:classappend="${#fields.hasErrors('ngayBatDau')} ? 'has-error'">
                                <label for="ngayBatDau" class="col-sm-2 control-label">Ngày bắt đầu</label>
                                <div class="col-sm-10">
                                    <input type="datetime-local" th:field="*{ngayBatDau}" class="form-control" id="ngayBatDau"/>
                                    <p class="help-block" th:if="${#fields.hasErrors('ngayBatDau')}" th:errors="*{ngayBatDau}"></p>
                                </div>
                            </div>

                            <div class="form-group" th:classappend="${#fields.hasErrors('ngayKetThuc')} ? 'has-error'">
                                <label for="ngayKetThuc" class="col-sm-2 control-label">Ngày kết thúc</label>
                                <div class="col-sm-10">
                                    <input type="datetime-local" th:field="*{ngayKetThuc}" class="form-control" id="ngayKetThuc"/>
                                    <p class="help-block" th:if="${#fields.hasErrors('ngayKetThuc')}" th:errors="*{ngayKetThuc}"></p>
                                </div>
                            </div>

                            <div class="form-group" th:classappend="${#fields.hasErrors('loaiGiamGia')} ? 'has-error'">
                                <label for="loaiGiamGia" class="col-sm-2 control-label">Loại giảm giá</label>
                                <div class="col-sm-10">
                                    <select th:field="*{loaiGiamGia}" class="form-control" id="loaiGiamGia">
                                        <option value="">-- Chọn loại giảm giá --</option>
                                        <option value="0" th:selected="${loaiGiamGia == 0}">Tiền mặt</option>
                                        <option value="1" th:selected="${loaiGiamGia == 1}">Phần trăm</option>
                                    </select>
                                    <p class="help-block" th:if="${#fields.hasErrors('loaiGiamGia')}" th:errors="*{loaiGiamGia}"></p>
                                </div>
                            </div>

                            <div class="form-group" th:classappend="${#fields.hasErrors('giaTriGiam')} ? 'has-error'">
                                <label for="giaTriGiam" class="col-sm-2 control-label">Giá trị giảm</label>
                                <div class="col-sm-10">
                                    <input type="number" step="0.01" th:field="*{giaTriGiam}" class="form-control" id="giaTriGiam" placeholder="Nhập giá trị giảm"/>
                                    <p class="help-block" th:if="${#fields.hasErrors('giaTriGiam')}" th:errors="*{giaTriGiam}"></p>
                                </div>
                            </div>

                            <div class="form-group" th:classappend="${#fields.hasErrors('soLuong')} ? 'has-error'">
                                <label for="soLuong" class="col-sm-2 control-label">Số lượng</label>
                                <div class="col-sm-10">
                                    <input type="number" th:field="*{soLuong}" class="form-control" id="soLuong" placeholder="Nhập số lượng"/>
                                    <p class="help-block" th:if="${#fields.hasErrors('soLuong')}" th:errors="*{soLuong}"></p>
                                </div>
                            </div>

                            <div class="form-group" th:classappend="${#fields.hasErrors('trangThai')} ? 'has-error'">
                                <label for="trangThai" class="col-sm-2 control-label">Trạng thái</label>
                                <div class="col-sm-10">
                                    <select th:field="*{trangThai}" class="form-control" id="trangThai">
                                        <option value="" disabled>-- Chọn trạng thái --</option>
                                        <option value="1" th:selected="${giamGia.trangThai == 1}">Hoạt động</option>
                                        <option value="0" th:selected="${giamGia.trangThai == 0}">Ngừng</option>
                                    </select>
                                    <p class="help-block" th:if="${#fields.hasErrors('trangThai')}" th:errors="*{trangThai}"></p>
                                </div>
                            </div>

                        </div>

                        <div class="box-footer">
                            <a th:href="@{/giam-gia/hien-thi}" class="btn btn-default">Hủy</a>
                            <button type="submit" class="btn btn-primary pull-right">Lưu</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <footer class="main-footer">
        <div class="pull-right hidden-xs">
            <b>Phiên bản</b> 1.0.0
        </div>
        <strong>&copy; 2025 <a href="#">Trendora</a>.</strong> Hệ thống quản trị bán áo phông. Thiết kế và phát triển bởi nhóm IT Trendora.
    </footer>

</div>

<script th:src="@{/assets/bower_components/jquery/dist/jquery.min.js}"></script>
<script th:src="@{/assets/bower_components/bootstrap/dist/js/bootstrap.min.js}"></script>
<script th:src="@{/assets/dist/js/adminlte.min.js}"></script>
</body>
</html>
